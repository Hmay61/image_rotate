<html>
<head>
    <style type="text/css">
        div{
            border:1px solid green;
            width:700px;
        }
        div ul{
            float:right;
            list-style: none;
        }
        ul li{
            border:2px solid green;
            width: 20px;
            height: 20px;
            margin-top: 20px;
            margin-right: 35px;
            text-align: center;
            margin-bottom: 35px;
            font-size: 20px;
            background-color: green;
            color:white;
        }
    </style>

    <script type="text/javascript">
        //global variable
        var timer;
        var i=1;  //i corresponding to which image

        //initialize: rotate image automatically
        window.onload = init;
        function init() {
            //set the first<li> backgroundcolor = orange;
            var obj = document.getElementById("li1");
            obj.style.background = "orange";

            timer = window.setInterval("rotateImages()",1000);  //Don't forget to set the name for the timer;
        }

        //change image from "flower1" to "flower6"  
        function rotateImages() {
            i++;
            if(i>6){
                i=1;
            }
            //get the image object
            var obj = document.getElementById("d1")
            //change the src
            obj.src = "images/flower"+i+".jpg";

            //also change the <li> background color to "orange"
            clearLiColor();
            var allLi = document.getElementById("li"+i);
            allLi.style.background = "orange";
        }

        //when mouseover to the image, stop rotating images
        function stopImages() {
            window.clearInterval(timer);
        }

        //when mouseout the image,restart rotating images
        function startImages() {
            timer = window.setInterval("rotateImages()",1000);
        }

        //when mouseover to the <li></li>,show the specified image
        function liStopImages(n,bg) {
            i = n; //important,if we don't set this one, so for the timer,there is 2 variable, one is "i",the other is "n",the images will rotate wrong. 

            //change to the specified image
            var obj = document.getElementById("d1");
            obj.src = "images/flower"+n+".jpg";

            clearLiColor();
            bg.style.background = "orange";

            //also the image should be stopped;
            window.clearInterval(timer);
        }

        //when mouseout the <li> tag, the image start to rotate
        function liStartImages() {
            timer = window.setInterval("rotateImages()",1000);
        }

        //change all of the <li> background color to "green"
        function clearLiColor() {
            for(var j=1;j<=6;j++) {
                var allObj = document.getElementById("li"+j);
                allObj.style.background = "green";
            }
        }
    </script>
</head>

<body>
    <div>
        <img id="d1" src="images/flower1.jpg" width="600px" height="400px" onmouseover="stopImages();" onmouseout="startImages();">
        <ul>
            <li id="li1" onmouseover="liStopImages(1,this)" onmouseout="liStartImages();">1</li>
            <li id="li2" onmouseover="liStopImages(2,this)" onmouseout="liStartImages();">2</li>
            <li id="li3" onmouseover="liStopImages(3,this)" onmouseout="liStartImages();">3</li>
            <li id="li4" onmouseover="liStopImages(4,this)" onmouseout="liStartImages();">4</li>
            <li id="li5" onmouseover="liStopImages(5,this)" onmouseout="liStartImages();">5</li>
            <li id="li6" onmouseover="liStopImages(6,this)" onmouseout="liStartImages();">6</li>
        </ul>
    </div>
</body>
</html>